---
title: Pay when paid vendor payments
description: This topic explains how to use the pay when paid (PWP) scenario. 
author: mukumarm
ms.date: 08/18/2022
ms.topic: article
ms.prod:
ms.reviewer: johnmichalak 
ms.author: mukumarm
---

# Pay when paid vendor payments

_**Applies To:** Project Operations for resource/non-stocked based scenarios_

This topic explains how to use the pay when paid (PWP) scenario.

## Create a purchase order that has PWP terms

When you post an invoice from a vendor, if the vendor is subject to PWP terms, those terms are shown on the purchase order (PO) lines. To create a PO that has PWP terms, follow these steps.

1. In Microsoft Dynamics 365 Finance, follow one of these steps:

    - Go to **Procurement and sourcing** \> **Purchase orders** \> **All purchase orders**. On the Action Pane, select **New**. In the **Create purchase order** dialog box, select the vendor for which PWP terms are set up on the project, enter other required information, and then select **OK**.
    - Go to **Project management and accounting** \> **Projects** \> **All projects**. On the Action Pane, on the **Manage** tab, select **Item task**. Select the purchase order. Select the vendor for which PWP terms are set up on the project, and then select **OK**.

2. On the **Purchase order** page, on the **Purchase order lines** Fast Tab, select **Add line** to create a purchase order line.
3. Select the item number or procurement category, and enter the other required details. Review the details of the PO line for the vendor.

    The **Pay when paid** option is automatically selected, and the value in the **PWP threshold percentage** field is automatically copied from the **PWP threshold percentage** field on the **Projects** page.

4. If you don't want to apply PWP terms to the vendor for a PO line, clear the **Pay when paid** option. In this case, the **PWP threshold percentage** field for the PO line will be reset to **0** (zero).
5. On the **Purchase order** page, on the Action Pane, on the **Purchase** tab, select **Confirm** to confirm the purchase order.
6. On the Action Pane, on the **Invoice** tab, select **Invoice** to generate the invoice for the purchase order.

## Create a project invoice proposal

Project invoice proposals are used to create project invoices for the customer. In the PWP scenario, vendor payments are dependent on customer payments according to the PWP settings. However, there are options that let you release the payments without customer payments as you require. To create a project invoice for the customer, follow these steps.

1. In customer engagement apps, go to **Project** \> **Projects**, and select the project.
2. On the **Actuals** tab, select the actual line that is generated by the PO that has the **Unbilled sales** transaction type. Then select **Ready for invoice**.
3. Go to **Sales** \> **Sales** \> **Project contract**, and select the project contract.
4. On the Action Pane, select **Invoice** to generate the customer invoice.
5. In Finance, go to **Project management and accounting** \> **Periodic** \> **Import from staging table**, and select **OK** to generate the Project operations integration journal.
6. Go to **Project management and accounting** \> **Project invoices** \> **Project invoice proposal**, and select **Post** to post the invoice proposal that was generated for the project.

## Update a customer payment and pay the vendor

When a vendor completes its work on a project and sends you an invoice, you must review the project status and customer invoices to determine whether the PWP terms were met for the project. If the PWP terms for the vendor were met, you can determine which lines on the vendor invoice to pay, based on the customer payments for the project. If you decide to pay the vendor even though the PWP terms weren't met, you can override the PWP terms on the **Vendor invoice with pay when paid** page.

1. In Finance, go to **Project management and accounting** \> **Projects** \> **All projects**, and select the project.
2. On the Action Pane, select **Control**, and then select **Vendor invoices** to show all vendor invoices that have been generated for the project.
3. On the **Vendor invoices with pay when paid** page, in the search field, enter values to find the vendor invoice that you want to review, and then select **Search**.
4. Select the **Pay when paid** option to view only PWP invoices.
5. On the **Vendor invoice lines** Fast Tab, select the lines that you want to release for payment.
6. Select **Release vendor payment**. The **Pay when paid** option is cleared, and the value of the **Ready for payment** field is changed to **Yes**.

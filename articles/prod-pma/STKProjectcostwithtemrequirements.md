---
title: Purchase orders for stocked items with item requirements
description: Learn how to configure and manage purchase orders for stocked items with item requirements in Microsoft Dynamics 365 Finance. Follow step-by-step instructions to streamline your processes.
author: mukumarm
ms.author: mukumarm
ms.reviewer: johnmichalak
ms.topic: how-to
ms.custom: 
  - bap-template
ms.date: 02/06/2026

---

# Purchase orders for stocked items with item requirements

[!include [banner](../includes/banner.md)]

To use purchase orders with item requirements, set the **Create Item requirements** option to **Yes** in Project management & accounting parameters.

1. Go to **Project management and accounting** \> **Setup** \> **Project management & accounting parameters**.
1. On the **General** tab, set the **Create Item requirements** option to **Yes**.
1. Set the **Item consumption** option to **Yes**.

When you create a purchase order by using the **Item requirements** feature, Microsoft Dynamics 365 Finance generates the project item requirements. Each purchase order line has a direct relationship with the project item requirement created for that purchase order line, and both lines are linked to each other. Any changes to the purchase order directly impact the project item requirements and cause them to update.

For the item requirements, the system shows the unit price for purchase orders as an item cost price after the discount that applies to purchase order lines is deducted. The item requirement cost price doesn't include the miscellaneous charges that the purchase order line applies.

If you set the **Item consumption** option to **Yes** in Project management & accounting parameters, the system automatically posts item requirements when you post a purchase order packing slip. If you set the option to **No**, you receive the following message: "Do you want to consume the material?" If the option is set to **No**, you can also manually post the item requirements.

The system posts and generates the project cost on either the purchase order unit price or the weighted average. If the **Include physical price** option is set to **Yes** for the item model group of the item, the system posts the project cost together with purchase order unit price to the purchase order packing slip. Otherwise, the system generates the project transactions by using the **Weighted average** inventory costing method.

After you post the purchase order invoice, if you apply any changes such as additional discounts or miscellaneous changes (if they are charges of the **Debit, inventory** type) on the purchase order lines, the inventory recalculation process is required to update the project cost. The inventory recalculation process is also required if the **Include physical price** option is set to **No** for the item model group. This rule is applicable to all items that have different inventory costing methods, including **FIFO**, **LIFO**, **Weighted average**, and **Standard costing**.

## Example scenario

The following illustration shows a purchase order where some items use the **FIFO** costing method and others use the **Weighted average** costing method. Miscellaneous charges are applied on the purchase order. The system generates the item requirements for each purchase order line.

:::image type="content" source="media/STKWithIRPurcahseorder.png" alt-text="Screenshot of purchase order example.":::

The following illustration shows the project posted transactions after purchase order product receipt. For all items except WAvgPP, the project cost is generated by using the **Weighted average** inventory costing method. For the item model group of item WAvgPP, the **Include physical value** option is set to **Yes**.

:::image type="content" source="media/STKWithIRProjectPostedtransactionafterProductReceipt.png" alt-text="Screenshot of project posted transactions after product receipt.":::

The following illustration shows the project posted transactions after the **Inventory recalculation** process is run. The **Inventory recalculation** process performs the adjustment transactions for the project subledger, based on the vendor invoice amount.

:::image type="content" source="media/STKWithIRProjectPostedtransactionafterInventoryRecalc.png" alt-text="Screenshot of project posted transactions after the Inventory recalculation process.":::

[!INCLUDE[footer-include](../includes/footer-banner.md)]
